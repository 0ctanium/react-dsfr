import Head from "next/head";
import type { AppProps } from 'next/app'
import { createEmotionSsrAdvancedApproach } from "tss-react/nextJs";
import "../public/dsfr/dsfr.css";
import { startReactDsfr} from "react_dsfr";

startReactDsfr({ "defaultColorScheme": "system" });

const { EmotionCacheProvider, withEmotionCache } = createEmotionSsrAdvancedApproach({ "key": "css" });

export { withEmotionCache };

export default function App({ Component, pageProps }: AppProps) {

	return (
		<>
			<Head>
				<title>Next DSFR!</title>
				<meta name="description" content="Generated by create next app" />

				<link rel="preload" href="/dsfr/fonts/Marianne-Light.woff2" as="font" crossOrigin="anonymous" />
				<link rel="preload" href="/dsfr/fonts/Marianne-Light_Italic.woff2" as="font" crossOrigin="anonymous" />
				<link rel="preload" href="/dsfr/fonts/Marianne-Regular.woff2" as="font" crossOrigin="anonymous" />
				<link rel="preload" href="/dsfr/fonts/Marianne-Regular_Italic.woff2" as="font" crossOrigin="anonymous" />
				<link rel="preload" href="/dsfr/fonts/Marianne-Medium.woff2" as="font" crossOrigin="anonymous" />
				<link rel="preload" href="/dsfr/fonts/Marianne-Medium_Italic.woff2" as="font" crossOrigin="anonymous" />
				<link rel="preload" href="/dsfr/fonts/Marianne-Bold.woff2" as="font" crossOrigin="anonymous" />
				<link rel="preload" href="/dsfr/fonts/Marianne-Bold_Italic.woff2" as="font" crossOrigin="anonymous" />
				<link rel="preload" href="/dsfr/fonts/Spectral-Regular.woff2" as="font" crossOrigin="anonymous" />
				<link rel="preload" href="/dsfr/fonts/Spectral-ExtraBold.woff2" as="font" crossOrigin="anonymous" />
			</Head>
			<EmotionCacheProvider>
				<Component {...pageProps} />
			</EmotionCacheProvider>
		</>
	);
}
